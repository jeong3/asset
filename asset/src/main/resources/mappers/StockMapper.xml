<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC
	"-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="springBootMVCAsset.mapper.StockMapper">
<select id="stockSelectAll">
SELECT DEAL_TIME,ITEM_CODE,DEAL_TYPE,EXECUTION_PRICE,DEAL_VOLUME,CUMULATIVE_DEAL_VOLUME
FROM (
    SELECT 
        DEAL_TIME,ITEM_CODE,DEAL_TYPE,EXECUTION_PRICE,DEAL_VOLUME,CUMULATIVE_DEAL_VOLUME, 
        ROW_NUMBER() OVER (ORDER BY deal_time DESC) AS rn
    FROM stock_data
)
WHERE rn between 1 and 15
</select>

</mapper>